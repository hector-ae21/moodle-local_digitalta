define("local_digitalta/files/filemanager",["exports","jquery","local_digitalta/repositories/files_repository","core/notification"],(function(_exports,_jquery,_files_repository,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.saveFiles=_exports.prepareDraftHTML=_exports.init=_exports.generateFileHash=void 0,_jquery=_interopRequireDefault(_jquery),_notification=_interopRequireDefault(_notification);_exports.prepareDraftHTML=(fileArea,component,fileContextId)=>(0,_files_repository.prepareDraftAreaHTML)({filearea:fileArea,component:component,filecontextid:fileContextId}).then((response=>response)).fail(_notification.default.exception);_exports.saveFiles=function(containerId,fileinputId,fileid,filearea){let contextid=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const fileContainer=(0,_jquery.default)(`#${containerId} `),draftid=fileContainer.find(`#${fileinputId}`).attr("Value");return(0,_files_repository.filesUploadFromDraft)({draftid:draftid,fileid:fileid,filearea:filearea,contextid:contextid}).then((response=>response)).fail(_notification.default.exception)};_exports.generateFileHash=filename=>{let hash=0;for(let i=0;i<filename.length;i++){hash=31*hash+filename.charCodeAt(i)}hash=Math.abs(hash)%1e6;let hashString=hash.toString();for(;hashString.length<6;)hashString="0"+hashString;return hashString};_exports.init=containerId=>{(0,_jquery.default)(`#${containerId}`).html(M.custom.filemanager.html)}}));

//# sourceMappingURL=filemanager.min.js.map