{"version":3,"file":"main.min.js","sources":["../../src/experiences/main.js"],"sourcesContent":["import Notification from \"core/notification\";\nimport ModalFactory from 'core/modal_factory';\nimport Templates from 'core/templates';\nimport {get_string} from 'core/str';\nimport {toggleStatus} from 'local_dta/repositories/experiences_repository';\nimport {setEventListeners} from './listeners';\nimport {deleteContext} from 'local_dta/repositories/context_repository';\n\nlet changeStatusModal = null;\n\n/**\n * Show the delete section modal\n * @param {int} experienceid\n * @return {void}\n */\nexport async function showChangeStatusModal(experienceid) {\n    changeStatusModal = await ModalFactory.create({\n        title: get_string(\"experience_view_block_modal_title\", \"local_dta\"),\n        body: Templates.render('local_dta/experiences/view/open-close-modal', {experienceid}),\n    });\n    changeStatusModal.show();\n}\n\n/**\n * Toggle the status of an experience\n * @param {int} experienceid\n * @return {void}\n */\nexport async function toggleExperienceStatus(experienceid) {\n    try {\n        await toggleStatus(experienceid);\n        changeStatusModal.hide();\n        window.location.reload();\n        return;\n    } catch (error) {\n        Notification.exception(error);\n    }\n}\n\n/**\n * Display the link resources modal\n * @param {int} contextid  The context id.\n */\nexport async function deleteRelatedContext(contextid) {\n    try {\n        await deleteContext({id: contextid});\n        window.location.reload();\n    } catch (error) {\n        Notification.exception(error);\n    }\n}\n\nexport const init = (userid = null) => {\n    setEventListeners(userid);\n};\n"],"names":["contextid","id","window","location","reload","error","exception","experienceid","changeStatusModal","ModalFactory","create","title","body","Templates","render","show","hide","userid"],"mappings":"8gBA2C2CA,qBAE7B,qCAAc,CAACC,GAAID,YACzBE,OAAOC,SAASC,SAClB,MAAOC,6BACQC,UAAUD,4EAjCaE,cACxCC,wBAA0BC,uBAAaC,OAAO,CAC1CC,OAAO,mBAAW,oCAAqC,aACvDC,KAAMC,mBAAUC,OAAO,8CAA+C,CAACP,aAAAA,iBAE3EC,kBAAkBO,uDAQuBR,+BAE/B,wCAAaA,cACnBC,kBAAkBQ,YAClBd,OAAOC,SAASC,SAElB,MAAOC,6BACQC,UAAUD,qKA3B3BG,kBAAoB,mBA4CJ,eAACS,8DAAS,sCACRA"}