{"version":3,"file":"listeners.min.js","sources":["../../../src/cases/manage/listeners.js"],"sourcesContent":["import $ from \"jquery\";\r\nimport {\r\naddTextSection,\r\nchangeSectionToEdit,\r\ndeleteSection,\r\nremoveSection,\r\nupsertSection,\r\nshowDeleteSectionModal,\r\nshowSaveCase,\r\nchangeStatusToComplete} from \"./form\";\r\nimport { createTinyMCE, removeTinyMCEFromArea } from 'local_dta/tiny/manage';\r\n\r\n\r\n/**\r\n * Set event listeners for the page.\r\n * @return {void}\r\n */\r\nexport default function setEventListeners() {\r\n    // Add a new text section\r\n    $(document).on('click', '#add-section', () => {\r\n        addTextSection();\r\n    });\r\n    // Remove a section\r\n    $(document).on('click', '.section-close-button', function () {\r\n        const id = $(this).data('id');\r\n        removeSection(id);\r\n        removeTinyMCEFromArea(`content_${id}`);\r\n    });\r\n    // Edit the section\r\n    $(document).on('click', '.section-edit-button', function () {\r\n        const id = $(this).data('id');\r\n        upsertSection(id);\r\n        removeTinyMCEFromArea(`content_${id}`);\r\n    });\r\n    // Change the section to edit mode\r\n    $(document).on('click', '.section-to-edit-button', async function () {\r\n        const id = $(this).data('id');\r\n        await changeSectionToEdit(true, id);\r\n        createTinyMCE(`content_${id}`);\r\n    });\r\n    // Showt section delete modal\r\n    $(document).on('click', '.section-delete-button', function() {\r\n        showDeleteSectionModal($(this).data('id'));\r\n    });\r\n    // Delete section\r\n    $(document).on('click', '#confirmDelete', function() {\r\n        deleteSection();\r\n    });\r\n    // Save button\r\n    $(document).on('click', '#save-case-button', function() {\r\n        showSaveCase();\r\n    });\r\n    // Change status to complete\r\n    $(document).on('click', '#complete-case-button', function() {\r\n        changeStatusToComplete();\r\n    });\r\n}"],"names":["document","on","id","this","data","async"],"mappings":"iQAmBMA,UAAUC,GAAG,QAAS,gBAAgB,uDAItCD,UAAUC,GAAG,QAAS,yBAAyB,iBACvCC,IAAK,mBAAEC,MAAMC,KAAK,8BACVF,wDACmBA,4BAGnCF,UAAUC,GAAG,QAAS,wBAAwB,iBACtCC,IAAK,mBAAEC,MAAMC,KAAK,8BACVF,wDACmBA,4BAGnCF,UAAUC,GAAG,QAAS,2BAA2BI,uBACzCH,IAAK,mBAAEC,MAAMC,KAAK,YAClB,8BAAoB,EAAMF,gDACPA,4BAG3BF,UAAUC,GAAG,QAAS,0BAA0B,6CACvB,mBAAEE,MAAMC,KAAK,8BAGtCJ,UAAUC,GAAG,QAAS,kBAAkB,4DAIxCD,UAAUC,GAAG,QAAS,qBAAqB,2DAI3CD,UAAUC,GAAG,QAAS,yBAAyB"}