define("local_dta/myexperience/view/main",["exports","jquery","core/notification","core/modal_factory","core/templates","core/str","local_dta/repositories/experience_repository","./modals"],(function(_exports,_jquery,_notification,_modal_factory,_templates,_str,_experience_repository,_modals){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=_exports.SELECTORS=void 0,_jquery=_interopRequireDefault(_jquery),_notification=_interopRequireDefault(_notification),_modal_factory=_interopRequireDefault(_modal_factory),_templates=_interopRequireDefault(_templates);let changeStatusModal=null;const SELECTORS={BUTTONS:{block:"#block-experience-button",unblock:"#open-experience-button",confirmBlockModal:"#confirm-block-experience-button",addResourceBtn:"#add-resource-button",addCasesBtn:"#add-cases-button"},INPUTS:{experienceid:"#experience-id"}};function setEventListeners(){const experienceid=(0,_jquery.default)(SELECTORS.INPUTS.experienceid).val();(0,_jquery.default)(document).on("click","".concat(SELECTORS.BUTTONS.block,", ").concat(SELECTORS.BUTTONS.unblock),(()=>{!async function(experienceid){changeStatusModal=await _modal_factory.default.create({title:(0,_str.get_string)("experience_view_block_modal_title","local_dta"),body:_templates.default.render("local_dta/experiences/view/open-close-modal",{experienceid:experienceid})}),changeStatusModal.show()}(experienceid)})),(0,_jquery.default)(document).on("click",SELECTORS.BUTTONS.confirmBlockModal,(()=>{!async function(experienceid){try{await(0,_experience_repository.toggleStatus)(experienceid),changeStatusModal.hide(),window.location.reload()}catch(error){_notification.default.exception(error)}}(experienceid)})),(0,_jquery.default)(document).on("click",SELECTORS.BUTTONS.addResourceBtn,(()=>{(0,_modals.displaylinkResourcesModal)()})),(0,_jquery.default)(document).on("click",SELECTORS.BUTTONS.addCasesBtn,(()=>{(0,_modals.displaylinkCoursesModal)()}))}_exports.SELECTORS=SELECTORS;_exports.init=()=>{setEventListeners()}}));

//# sourceMappingURL=main.min.js.map